{% load static %}

<div>
    <div class="comment">
        <div class="d-flex mt-2">
            <img 
                src="{% if comment.author.profile.profile_picture %}{{ comment.author.profile.profile_picture.url }}{% else %}{% static 'img/gradient-02.jpg' %}{% endif %}" 
                class="rounded-circle border circle-picture">

            <div class="ml-3 flex-grow-1">
                <div class="d-flex align-items-center">
                    <p class="font-weight-bold mb-0 text-content">
                        <a href="/user/profile/{{ comment.author.username }}" class="text-decoration-none text-secondary">
                            @{{ comment.author.username }}
                        </a>
                    </p>
                    <p class="mb-0 text-muted ml-1 text-content">
                        âˆ™ {{ comment.posted|date:"M d, Y" }}
                    </p>
                </div>

                <p class="my-2 mr-5 text-dark text-justify">

                    {% if comment.parent %}

                        <a href="/user/profile/{{ comment.parent.author.username }}" class="text-decoration-none">
                            @{{ comment.parent.author.username }}
                        </a>

                    {% endif %}

                    {{ comment.content }}
                </p>

                {% include 'comment/actions/options.html' %}
            </div>
        </div>

        {% if comment.replies.exists %}

            <div id="replies-{{ comment.id }}" class="ml-4 d-none">

                {% for reply in comment.replies.all %}

                    {% include "post/partials/comments.html" with comment=reply %}

                {% endfor %}

            </div>

        {% endif %}
        
    </div>
</div>
